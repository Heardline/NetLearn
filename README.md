# NetLearn
LMS платформа для онлайн-школы/университета.

### 1. Функциональные Требования:

#### Основные Термины:
- **Курс (Course):** Главный образовательный блок, включающий в себя несколько блоков.
- **Блок (Block):** Составная часть курса, содержащая в себе модули. Блоки могут быть связаны между собой.
- **Модуль (Module):** Составная часть блока, содержащая темы.
- **Тема (Topic):** Минимальная единица обучения.

#### Бизнес Логика:
- Студент должен завершить все темы в модуле, чтобы завершить модуль.
- Студент должен завершить все модули в блоке, чтобы завершить блок и перейти к следующему блоку.
- Блоки могут быть связаны линейно или иметь условные переходы.

### 2. Структура БД:

Таблица `courses`
| Поле          | Тип данных       | Ограничения                    | Описание                       |
|---------------|------------------|--------------------------------|--------------------------------|
| id            | UUID PRIMARY KEY | NOT NULL                       | Уникальный идентификатор       |
| title         | String           | NOT NULL                       | Название курса                 |
| description   | Text             |                                | Описание курса                 |
| created_at    | Timestamp        | NOT NULL, DEFAULT CURRENT_TIMESTAMP | Время создания курса           |
| updated_at    | Timestamp        |                                | Время последнего обновления курса|

Таблица `blocks`
| Поле          | Тип данных       | Ограничения                    | Описание                       |
|---------------|------------------|--------------------------------|--------------------------------|
| id            | UUID PRIMARY KEY | NOT NULL                       | Уникальный идентификатор блока |
| course_id     | UUID FOREIGN KEY | REFERENCES courses(id) ON DELETE CASCADE | ID курса                       |
| title         | String           | NOT NULL                       | Название блока                 |
| description   | Text             |                                | Описание блока                 |
| created_at    | Timestamp        | NOT NULL, DEFAULT CURRENT_TIMESTAMP | Время создания блока           |
| updated_at    | Timestamp        |                                | Время последнего обновления блока|

Таблица `modules`
| Поле          | Тип данных       | Ограничения                    | Описание                       |
|---------------|------------------|--------------------------------|--------------------------------|
| id            | UUID PRIMARY KEY | NOT NULL                       | Уникальный идентификатор модуля|
| block_id      | UUID FOREIGN KEY | REFERENCES blocks(id) ON DELETE CASCADE | ID блока                       |
| title         | String           | NOT NULL                       | Название модуля                |
| description   | Text             |                                | Описание модуля                |
| created_at    | Timestamp        | NOT NULL, DEFAULT CURRENT_TIMESTAMP | Время создания модуля          |
| updated_at    | Timestamp        |                                | Время последнего обновления модуля|

Таблица `topics`
| Поле          | Тип данных       | Ограничения                    | Описание                       |
|---------------|------------------|--------------------------------|--------------------------------|
| id            | UUID PRIMARY KEY | NOT NULL                       | Уникальный идентификатор темы  |
| module_id     | UUID FOREIGN KEY | REFERENCES modules(id) ON DELETE CASCADE | ID модуля                      |
| title         | String           | NOT NULL                       | Название темы                  |
| content       | Text             |                                | Содержание темы                |
| created_at    | Timestamp        | NOT NULL, DEFAULT CURRENT_TIMESTAMP | Время создания темы            |
| updated_at    | Timestamp        |                                | Время последнего обновления темы|

### 3. Бизнес Правила:
- Структура Курса должна быть гибкой, чтобы поддерживать различные сценарии обучения.
- Студенты могут видеть свой прогресс по темам, модулям, блокам и курсам.
- Процесс прохождения тем, модулей и блоков должен быть понятным и прозрачным для студента.

### 4. API Методы:
- `GET /courses`: Получение списка всех курсов.
- `GET /courses/{course_id}`: Получение детальной информации о курсе.
- `GET /blocks/{block_id}`: Получение детальной информации о блоке.
- `GET /modules/{module_id}`: Получение детальной информации о модуле.
- `GET /topics/{topic_id}`: Получение детальной информации о теме.
- `POST /topics/{topic_id}/complete`: Отметка о завершении темы студентом.

## Архитектура
- Микросервисная архитектура с монолитным frontend.
- Бэкенд: Django + REST Framework
- БД: PostgreSQL
- Celery + RabbitMQ как брокер сообщений для Celery
- Фронтдент: Vue.JS
- Redux для управления состоянием. Axios для выполнения HTTP. Rayna UI - готовая дизайн-система
- Docker + GitHub Actions. Деплой на Ubuntu
![Тест](https://github.com/Heardline/NetLearn/blob/main/arch_netlearn_v0.1.png)
## Компоненты
Используется микросервисная архитектура, что обеспечивает модульность и независимость компонентов.
### Auth - Сервис авторизации и управления правами
Функционал: 
- Регистрация
- Вход/Выход (OAuth)
- Восстановление пароля
- Администратирование

> Может использовать OAuth или JWT для аутентификации и авторизации.
Использует базу данных для хранения учетных данных пользователей.
### User - Сервис управления пользователем
Функционал: 
- Управление профилями пользователей. API Profile, хранение данных в БД и отслеживание прогресса. 
> Хранит персональную информацию пользователей.
Может предоставлять API для доступа к профилям пользователей.
### Course - Сервис управления курсами
> Отвечает за создание, обновление, удаление и получение информации о курсах.
Хранит информацию о курсах, такую как описание, содержание, и цена.
Может предоставлять API для доступа к контенту курсов.
### Community - Сервис чатов и форума
> Отвечает за обмен сообщениями между пользователями в реальном времени.
Может использовать WebSockets для обмена сообщениями.
Хранит историю сообщений
### Billing - Сервис платежей
> Отвечает за обработку платежей и подписок.
Интегрируется с платежными системами, такими как TinkoffPay или SberPay.
### Analytics - Сервис аналитики и отчетности
AnalyticsService анализирует данные от всех сервисов через RabbitMQ.
### API Gateway
Обеспечивает единый точку входа и маршрутизирует запросы.
### Elasticsearch
Необходим для оптимизации поисковых запросов.
## Взаимодействия
- **AuthenticationService** обращается к **UserService** для получения и создания данных пользователя.
- **UserService** взаимодействует с **CourseManagementService** и **PaymentService** для получения информации о курсах и статусе подписки.
- **CourseManagementService** и **ForumService** обращаются к **SearchService** и **FileStorageService**.
- **PaymentService** уведомляет **UserService** об изменении статуса подписки.
- **AnalyticsService** анализирует данные от всех сервисов через **RabbitMQ**.
- **Vue Frontend** взаимодействует с сервисами через **API Gateway**.
### Внешние зависимости:
- **External Notification Service**: Необходим для отправки уведомлений по SMS и Email.
- **Elasticsearch**: Необходим для оптимизации поисковых запросов.
## Фичи
## Идеи

---
